"use strict";const resetBtn=document.querySelector(".js_reset-btn"),nameInput=document.querySelector(".js_input-name"),jobInput=document.querySelector(".js_input-job"),imgInput=document.querySelector(".js_input_img"),emailInput=document.querySelector(".js_input-email"),tlfInput=document.querySelector(".js_input-tlf"),linInput=document.querySelector(".js_input-lin"),githupInput=document.querySelector(".js_input-githup"),previewName=document.querySelector(".js_preview-name"),previewJob=document.querySelector(".js_preview-job"),previewTlf=document.querySelector(".js_preview-tlf"),previewImg=document.querySelector(".js_card_img"),miniPreviewImg=document.querySelector(".js_form_img"),previewEmail=document.querySelector(".js_preview-email"),previewLin=document.querySelector(".js_preview-lin"),previewGit=document.querySelector(".js_preview-git"),inputsToReset=document.querySelectorAll(".js-input"),designBar=document.querySelector(".js_design_bar"),stuffedBar=document.querySelector(".js_stuffed_bar"),shareBar=document.querySelector(".js_share_bar"),arrowDesign=document.querySelector(".js_arrow-design"),arrowStuffed=document.querySelector(".js_arrow-stuffed"),arrowShare=document.querySelector(".js_arrow-share"),colorContainer=document.querySelector(".js_color-election"),dataContainer=document.querySelector(".js_stuffed-data"),shareContainer=document.querySelector(".js_share"),paletteRadio1=document.querySelector(".js-input-1"),paletteRadio2=document.querySelector(".js-input-2"),paletteRadio3=document.querySelector(".js-input-3"),articleRadio=document.querySelector(".js-card"),mainRadio=document.querySelector(".js-main"),shareCreated=document.querySelector(".js_created"),btnCreateCard=document.querySelector(".js-btn-create"),iconBtnCreated=document.querySelector(".js-icon-btn"),link=document.querySelector(".js_link"),twitter=document.querySelector(".js_twitter");function showPalette(){articleRadio.classList.remove("palette1"),articleRadio.classList.remove("palette2"),articleRadio.classList.remove("palette3"),articleRadio.classList.add("palette"+event.currentTarget.value),dataCard.palette=event.currentTarget.value,mainRadio.classList.remove("palette2"),mainRadio.classList.remove("palette3"),mainRadio.classList.add("palette"+event.currentTarget.value),dataCard.palette=event.currentTarget.value}paletteRadio1.addEventListener("click",showPalette),paletteRadio2.addEventListener("click",showPalette),paletteRadio3.addEventListener("click",showPalette),articleRadio.classList.add("palette1"),mainRadio.classList.remove("palette1");const dataCard={name:"",job:"",photo:"",email:"",phone:"",github:"",linkedin:""};function updatePreview(){dataCard.name=nameInput.value,dataCard.job=jobInput.value,dataCard.email=emailInput.value,dataCard.phone=tlfInput.value,dataCard.github=githupInput.value,dataCard.linkedin=linInput.value,""===dataCard.name?previewName.innerHTML="Nombre Apellidos":previewName.innerHTML=dataCard.name,""===dataCard.job?previewJob.innerHTML="Front-end developer":previewJob.innerHTML=dataCard.job,""===dataCard.email?previewEmail.href="":previewEmail.href="mailto:"+dataCard.email,""===dataCard.phone?previewTlf.href="":previewTlf.href="tel:"+dataCard.phone,""===dataCard.github?previewGit.href="":previewGit.href="https://github.com/"+dataCard.github,""===dataCard.linkedin?previewLin.href="":previewLin.href=""+dataCard.linkedin}function arrowUpDesign(){arrowDesign.classList.add("turn-around"),colorContainer.classList.add("election"),dataContainer.classList.remove("stuffed"),shareContainer.classList.remove("share"),dataContainer.classList.add("collapsed"),shareContainer.classList.add("collapsed"),arrowStuffed.classList.remove("turn-around"),arrowShare.classList.remove("turn-around")}function arrowDownDesign(){arrowDesign.classList.remove("turn-around"),colorContainer.classList.remove("election"),colorContainer.classList.add("collapsed")}function handleClickArrowDesign(){arrowDesign.classList.contains("turn-around")?arrowDownDesign():arrowUpDesign()}function arrowUpStuffed(){arrowStuffed.classList.add("turn-around"),dataContainer.classList.add("stuffed"),colorContainer.classList.remove("election"),shareContainer.classList.remove("share"),colorContainer.classList.add("collapsed"),dataContainer.classList.add("collapsed"),arrowDesign.classList.remove("turn-around"),arrowShare.classList.remove("turn-around")}function arrowDownStuffed(){arrowStuffed.classList.remove("turn-around"),dataContainer.classList.remove("stuffed"),dataContainer.classList.add("collapsed")}function handleClickArrowStuffed(){arrowStuffed.classList.contains("turn-around")?arrowDownStuffed():arrowUpStuffed()}function arrowUpShare(){arrowShare.classList.add("turn-around"),shareContainer.classList.add("share"),colorContainer.classList.remove("election"),dataContainer.classList.remove("stuffed"),colorContainer.classList.add("collapsed"),dataContainer.classList.add("collapsed"),arrowDesign.classList.remove("turn-around"),arrowStuffed.classList.remove("turn-around")}function arrowDownShare(){arrowShare.classList.remove("turn-around"),shareContainer.classList.remove("share"),shareContainer.classList.add("collapsed"),shareCreated.classList.add("collapsed"),shareCreated.classList.remove("created")}function handleClickArrowShare(){arrowShare.classList.contains("turn-around")?arrowDownShare():arrowUpShare()}function check(){paletteRadio1.checked=!0}function resetPaleta(){articleRadio.classList.remove("palette1"),articleRadio.classList.remove("palette2"),articleRadio.classList.remove("palette3"),articleRadio.classList.add("palette1"),mainRadio.classList.remove("palette1"),check()}function resetInput(){for(const e of inputsToReset)e.value=""}function resetImg(){profileImage.style.backgroundImage="",profilePreview.style.backgroundImage=""}function resetCreated(){btnCreateCard.classList.remove("change-color-btn"),iconBtnCreated.classList.remove("change-color-icon"),shareCreated.classList.add("collapsed"),shareCreated.classList.remove("created")}function handleclikreset(e){e.preventDefault(),resetInput(),updatePreview(),resetPaleta(),resetImg(),localStorage.removeItem("userData"),resetCreated()}nameInput.addEventListener("input",updatePreview),jobInput.addEventListener("input",updatePreview),tlfInput.addEventListener("input",updatePreview),emailInput.addEventListener("input",updatePreview),linInput.addEventListener("input",updatePreview),githupInput.addEventListener("input",updatePreview),designBar.addEventListener("click",handleClickArrowDesign),stuffedBar.addEventListener("click",handleClickArrowStuffed),shareBar.addEventListener("click",handleClickArrowShare),resetBtn.addEventListener("click",handleclikreset);const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,dataCard.photo=fr.result}function handleCreated(e){e.preventDefault(),showCreated(),saveInfo()}function saveInfo(){fetch("https://awesome-profile-cards.herokuapp.com/card",{method:"POST",body:JSON.stringify(dataCard),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e);let t=e.cardURL;link.innerHTML=t,link.href=t,twitter.href=`https://twitter.com/intent/tweet?text=Aquí%20podéis%20ver%20mi%20tarjeta%20virtual&url=${t}.%20Crea%20la%20tuya%20en:%20http://beta.adalab.es/project-promo-r-module-2-team-9/`,localStorage.setItem("userData",JSON.stringify(dataCard)),console.log(dataCard)})}function showCreated(){btnCreateCard.classList.add("change-color-btn"),iconBtnCreated.classList.add("change-color-icon"),shareCreated.classList.remove("collapsed"),shareCreated.classList.add("created")}fileField.addEventListener("change",getImage),btnCreateCard.addEventListener("click",handleCreated);